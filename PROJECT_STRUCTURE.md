# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
ha-reachy-mini-card/
â”œâ”€â”€ .gitignore                      # Git å¿½ç•¥è§„åˆ™ (å·²æ›´æ–°)
â”œâ”€â”€ .github/                        # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ assets/                         # æœºå™¨äºº 3D æ¨¡å‹èµ„æº
â”‚   â”œâ”€â”€ meshes/                     # 45 ä¸ª STL ç½‘æ ¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ 5w_speaker.stl
â”‚   â”‚   â”œâ”€â”€ antenna.stl
â”‚   â”‚   â”œâ”€â”€ body_*.stl              # æœºèº«éƒ¨ä»¶
â”‚   â”‚   â”œâ”€â”€ head_*.stl              # å¤´éƒ¨éƒ¨ä»¶
â”‚   â”‚   â”œâ”€â”€ stewart_*.stl           # Stewart å¹³å°
â”‚   â”‚   â””â”€â”€ ... (å…± 45 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ reachy-mini.urdf            # URDF æœºå™¨äººå®šä¹‰æ–‡ä»¶
â”‚   â””â”€â”€ screenshot.svg              # é¡¹ç›®æˆªå›¾
â”‚
â”œâ”€â”€ dist/                           # ç¼–è¯‘è¾“å‡ºç›®å½• (HACS å®‰è£…)
â”‚   â”œâ”€â”€ assets/                     # å¤åˆ¶çš„èµ„æºæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ meshes/                 # 45 ä¸ª STL æ–‡ä»¶
â”‚   â”œâ”€â”€ lib/                        # å¤–éƒ¨åº“
â”‚   â”‚   â””â”€â”€ urdf-loader.js          # URDF åŠ è½½å™¨
â”‚   â””â”€â”€ reachy-mini-3d-card.js     # ç¼–è¯‘åçš„å¡ç‰‡ä»£ç 
â”‚
â”œâ”€â”€ src/                            # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ reachy-mini-3d-card.js      # V1 åŸç‰ˆ (ESPHome)
â”‚   â””â”€â”€ reachy-mini-3d-card-v2.js   # V2 æ–°ç‰ˆ (ç›´æ¥è¿æ¥) â­
â”‚
â”œâ”€â”€ reachy-mini-desktop-app/         # ğŸ” å‚è€ƒé¡¹ç›® (å·²å¿½ç•¥)
â”‚   â”œâ”€â”€ src/                        # Desktop app æºä»£ç 
â”‚   â”œâ”€â”€ src-tauri/                  # Tauri åç«¯
â”‚   â”œâ”€â”€ kinematics-wasm/            # WASM è¿åŠ¨å­¦
â”‚   â””â”€â”€ ...                         # (å‚è€ƒé¡¹ç›®æ–‡ä»¶)
â”‚
â”œâ”€â”€ research_data/                  # ç ”ç©¶æ•°æ® (å·²å¿½ç•¥)
â”‚
â”œâ”€â”€ æ–‡æ¡£/
â”‚   â”œâ”€â”€ README.md                   # ä¸»æ–‡æ¡£ (V1 ç‰ˆæœ¬)
â”‚   â”œâ”€â”€ README-V2.md                # V2 ç‰ˆæœ¬æ–‡æ¡£ â­
â”‚   â”œâ”€â”€ MIGRATION_GUIDE.md          # V1 â†’ V2 è¿ç§»æŒ‡å— â­
â”‚   â”œâ”€â”€ TECHNICAL_COMPARISON.md     # æŠ€æœ¯å¯¹æ¯”æ–‡æ¡£ â­
â”‚   â”œâ”€â”€ BUILD_INSTRUCTIONS.md       # æ„å»ºè¯´æ˜
â”‚   â”œâ”€â”€ CHANGELOG.md                # å˜æ›´æ—¥å¿—
â”‚   â””â”€â”€ example-dashboard.yaml      # ç¤ºä¾‹é…ç½®
â”‚
â”œâ”€â”€ é…ç½®æ–‡ä»¶:
â”‚   â”œâ”€â”€ hacs.json                   # HACS å…ƒæ•°æ®
â”‚   â”œâ”€â”€ package.json                # NPM é…ç½®
â”‚   â”œâ”€â”€ rollup.config.js            # Rollup æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ .eslintrc.json              # ESLint é…ç½®
â”‚   â””â”€â”€ build.sh                    # æ„å»ºè„šæœ¬
â”‚
â””â”€â”€ å…¶ä»–:
    â”œâ”€â”€ LICENSE                     # Apache 2.0 è®¸å¯è¯
    â””â”€â”€ SPLIT_REPOSITORY.md         # ä»“åº“æ‹†åˆ†è¯´æ˜
```

## âœ… é¡¹ç›®çŠ¶æ€

### èµ„æºæ–‡ä»¶å®Œæ•´æ€§

æ‰€æœ‰å¿…éœ€çš„æœºå™¨äººæ¨¡å‹æ–‡ä»¶å·²å­˜åœ¨:

- âœ… **URDF æ–‡ä»¶**: `assets/reachy-mini.urdf` (ä¸å‚è€ƒé¡¹ç›®ç›¸åŒ)
- âœ… **Mesh æ–‡ä»¶**: 45 ä¸ª STL æ–‡ä»¶å…¨éƒ¨å­˜åœ¨
- âœ… **èµ„æºè·¯å¾„**: `assets/meshes/` å®Œæ•´

### å‚è€ƒé¡¹ç›®å¤„ç†

å‚è€ƒé¡¹ç›® `reachy-mini-desktop-app/` å·²æ­£ç¡®é…ç½®:

- âœ… **å·²åœ¨ .gitignore ä¸­å¿½ç•¥**: `reachy-mini-desktop-app/`
- âœ… **ä¸å½±å“ä¸»é¡¹ç›®**: ä»…ä½œä¸ºä»£ç å‚è€ƒ
- âœ… **å¯éšæ—¶åˆ é™¤**: åˆ é™¤åä¸å½±å“ HA å¡ç‰‡åŠŸèƒ½

### ä»£ç ç‰ˆæœ¬

å½“å‰é¡¹ç›®åŒ…å«ä¸¤ä¸ªç‰ˆæœ¬çš„ä»£ç :

| æ–‡ä»¶ | ç‰ˆæœ¬ | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|------|
| `src/reachy-mini-3d-card.js` | V1 | ESPHome ç‰ˆæœ¬ (æ—§) | âœ… å¯ç”¨ |
| `src/reachy-mini-3d-card-v2.js` | V2 | ç›´æ¥è¿æ¥ç‰ˆæœ¬ (æ–°) | â­ æ¨è |

## ğŸ¯ æ¨èä½¿ç”¨ V2 ç‰ˆæœ¬

### ä¼˜åŠ¿

1. **æ— éœ€ ESPHome** - é›¶é…ç½®å³å¯ä½¿ç”¨
2. **æ›´ä½å»¶è¿Ÿ** - ä» 500ms é™è‡³ 50ms
3. **å®æ—¶çŠ¶æ€** - è¿æ¥æŒ‡ç¤ºå™¨æ˜¾ç¤ºå®æ—¶çŠ¶æ€
4. **è‡ªåŠ¨é‡è¿** - ç½‘ç»œæ³¢åŠ¨è‡ªåŠ¨æ¢å¤
5. **å®Œæ•´æ•°æ®** - æ”¯æŒæ‰€æœ‰å…³èŠ‚æ•°æ®

### é…ç½®ç¤ºä¾‹

```yaml
# V2 é…ç½® (æ¨è)
type: custom:reachy-mini-3d-card
daemon_host: localhost    # æˆ– Reachy Mini çš„ IP
daemon_port: 3333
height: 400
```

## ğŸ“¦ HACS å®‰è£…æ–‡ä»¶

å‘å¸ƒåˆ° HACS éœ€è¦çš„æ–‡ä»¶:

```
dist/
â”œâ”€â”€ reachy-mini-3d-card.js     # ä¸»å¡ç‰‡æ–‡ä»¶
â”œâ”€â”€ lib/urdf-loader.js          # URDF åŠ è½½å™¨åº“
â””â”€â”€ assets/                     # æœºå™¨äººèµ„æº
    â”œâ”€â”€ reachy-mini.urdf
    â””â”€â”€ meshes/*.stl            # 45 ä¸ª STL æ–‡ä»¶
```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### ä¿®æ”¹ V2 ä»£ç 

```bash
# 1. ç¼–è¾‘æºä»£ç 
ç¼–è¾‘ src/reachy-mini-3d-card-v2.js

# 2. å¤åˆ¶åˆ° dist ç›®å½•
cp src/reachy-mini-3d-card-v2.js dist/reachy-mini-3d-card.js

# 3. åœ¨ Home Assistant ä¸­æµ‹è¯•
# åˆ·æ–°æµè§ˆå™¨ (Ctrl+Shift+R)
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# ä½¿ç”¨ Rollup æ„å»º
npm run build

# è¾“å‡ºåˆ° dist/
```

## ğŸ“‹ æ–‡ä»¶æ£€æŸ¥æ¸…å•

### å¿…éœ€æ–‡ä»¶ (V2)

- [x] `.gitignore` - å·²æ›´æ–°,å¿½ç•¥å‚è€ƒé¡¹ç›®
- [x] `src/reachy-mini-3d-card-v2.js` - V2 æ ¸å¿ƒä»£ç 
- [x] `assets/reachy-mini.urdf` - æœºå™¨äººå®šä¹‰
- [x] `assets/meshes/*.stl` - 45 ä¸ª 3D æ¨¡å‹æ–‡ä»¶
- [x] `dist/lib/urdf-loader.js` - URDF åŠ è½½å™¨
- [x] `README-V2.md` - V2 æ–‡æ¡£
- [x] `MIGRATION_GUIDE.md` - è¿ç§»æŒ‡å—
- [x] `TECHNICAL_COMPARISON.md` - æŠ€æœ¯å¯¹æ¯”

### å‚è€ƒé¡¹ç›® (å·²å¿½ç•¥)

- [x] `reachy-mini-desktop-app/` - ä»…ä½œå‚è€ƒ,å·²å¿½ç•¥

## ğŸš€ ä¸‹ä¸€æ­¥

1. **æµ‹è¯• V2 ç‰ˆæœ¬**:
   ```bash
   # å°† V2 ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
   cp src/reachy-mini-3d-card-v2.js dist/reachy-mini-3d-card.js
   ```

2. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**:
   ```bash
   npm run build
   ```

3. **å‘å¸ƒåˆ° HACS**:
   - æ›´æ–° `hacs.json`
   - åˆ›å»º GitHub Release
   - æ›´æ–° CHANGELOG.md

## âš ï¸ é‡è¦è¯´æ˜

### å…³äºå‚è€ƒé¡¹ç›®

`reachy-mini-desktop-app/` ç›®å½•åŒ…å«å‚è€ƒé¡¹ç›®çš„å®Œæ•´æºä»£ç ,ç”¨äº:

- âœ… å­¦ä¹  WebSocket è¿æ¥å®ç°
- âœ… å‚è€ƒ 3D æ¸²æŸ“ä»£ç 
- âœ… ç†è§£æ•°æ®æ ¼å¼
- âœ… å€Ÿé‰´é”™è¯¯å¤„ç†é€»è¾‘

**è¯¥ç›®å½•å·²è¢« .gitignore å¿½ç•¥,ä¸ä¼šè¢«æäº¤åˆ° Gitã€‚**

### èµ„æºæ–‡ä»¶è¯´æ˜

æ‰€æœ‰ 3D æ¨¡å‹æ–‡ä»¶ (`assets/meshes/*.stl`) å’Œ URDF å®šä¹‰ (`assets/reachy-mini.urdf`) ä¸å‚è€ƒé¡¹ç›®**å®Œå…¨ç›¸åŒ**,æ— éœ€ä»å‚è€ƒé¡¹ç›®å¤åˆ¶ã€‚

## ğŸ‰ æ€»ç»“

é¡¹ç›®ç»“æ„å®Œæ•´,æ‰€æœ‰å¿…éœ€æ–‡ä»¶å°±ä½:

- âœ… èµ„æºæ–‡ä»¶å®Œæ•´ (45 ä¸ª STL + URDF)
- âœ… V2 ä»£ç å·²å®ç° (ç›´æ¥ WebSocket è¿æ¥)
- âœ… æ–‡æ¡£é½å…¨ (ä½¿ç”¨æŒ‡å— + è¿ç§»æŒ‡å— + æŠ€æœ¯å¯¹æ¯”)
- âœ… .gitignore å·²æ›´æ–° (å¿½ç•¥å‚è€ƒé¡¹ç›®)
- âœ… å¯ä»¥ç«‹å³ä½¿ç”¨å’Œå‘å¸ƒ

**å‡†å¤‡å¥½ä½¿ç”¨ V2 ç‰ˆæœ¬äº†!** ğŸš€
